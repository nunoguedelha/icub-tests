\section{Control\-Modes Class Reference}
\label{classControlModes}\index{Control\-Modes@{Control\-Modes}}


The test checks if the joint is able to go in all the available control/interaction modes and if transition between the states is correct.  




{\ttfamily \#include $<$Control\-Modes.\-h$>$}



Inherits Yarp\-Test\-Case.

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual bool {\bfseries setup} (yarp\-::os\-::\-Property \&property)\label{classControlModes_a906098cdeee49ee608ec27e14d17fe4a}

\item 
virtual void {\bfseries tear\-Down} ()\label{classControlModes_a96e49aa347dc1a743e5f506672f72dc5}

\item 
virtual void {\bfseries run} ()\label{classControlModes_ae438acaf6677471f962d3d6eec430b52}

\item 
void {\bfseries go\-Home} ()\label{classControlModes_aba99419a0f329ef8db34b3247c9e8461}

\item 
void {\bfseries execute\-Cmd} ()\label{classControlModes_a499fb7c42dc501895e41fb8e7922f3fb}

\item 
void {\bfseries set\-Mode} (int desired\-\_\-control\-\_\-mode, yarp\-::dev\-::\-Interaction\-Mode\-Enum desired\-\_\-interaction\-\_\-mode)\label{classControlModes_a2db54b3f482b49317a73caffba85fe98}

\item 
void {\bfseries verify\-Mode} (int desired\-\_\-control\-\_\-mode, yarp\-::dev\-::\-Interaction\-Mode\-Enum desired\-\_\-interaction\-\_\-mode, yarp\-::os\-::\-Const\-String title)\label{classControlModes_a79dc3f6647b41b2b1047e0fb769930db}

\item 
void {\bfseries verify\-Amplifier} (int desired\-\_\-amplifier\-\_\-mode, yarp\-::os\-::\-Const\-String title)\label{classControlModes_ac4b07380ed5ef4d060320db5e27cefd5}

\item 
void {\bfseries zero\-Current\-Limits} ()\label{classControlModes_af8d034ed81bad265bef55868c93dccbb}

\item 
void {\bfseries get\-Original\-Current\-Limits} ()\label{classControlModes_a07b40de5590b6de6465275f120cc0278}

\item 
void {\bfseries reset\-Original\-Current\-Limits} ()\label{classControlModes_a4829a8e1d1d0a9bc97d6f99a39f200fb}

\item 
void {\bfseries verify\-Mode\-Single} (int joint, int desired\-\_\-control\-\_\-mode, yarp\-::dev\-::\-Interaction\-Mode\-Enum desired\-\_\-interaction\-\_\-mode, yarp\-::os\-::\-Const\-String title)\label{classControlModes_a484beacf0d13cdea8a6e2f42886a151e}

\item 
void {\bfseries set\-Mode\-Single} (int joint, int desired\-\_\-control\-\_\-mode, yarp\-::dev\-::\-Interaction\-Mode\-Enum desired\-\_\-interaction\-\_\-mode)\label{classControlModes_af9a2fe5d8cdeba9c6a4c6419b7e10c26}

\item 
void {\bfseries check\-Joint\-With\-Torque\-Mode} ()\label{classControlModes_a5a886c22a344441ff40d7223b1a9b7aa}

\item 
void {\bfseries check\-Control\-Mode\-With\-Im\-Compliant} (int desired\-\_\-control\-\_\-mode, yarp\-::os\-::\-Const\-String title)\label{classControlModes_ae0706d70e86af67fbff3d01e58e6cb86}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
The test checks if the joint is able to go in all the available control/interaction modes and if transition between the states is correct. 

The following control modes are test\-: V\-O\-C\-A\-B\-\_\-\-C\-M\-\_\-\-P\-O\-S\-I\-T\-I\-O\-N, V\-O\-C\-A\-B\-\_\-\-C\-M\-\_\-\-P\-O\-S\-I\-T\-I\-O\-N\-\_\-\-D\-I\-R\-E\-C\-T, V\-O\-C\-A\-B\-\_\-\-C\-M\-\_\-\-V\-E\-L\-O\-C\-I\-T\-Y, V\-O\-C\-A\-B\-\_\-\-C\-M\-\_\-\-M\-I\-X\-E\-D, V\-O\-C\-A\-B\-\_\-\-C\-M\-\_\-\-O\-P\-E\-N\-L\-O\-O\-P, V\-O\-C\-A\-B\-\_\-\-C\-M\-\_\-\-I\-D\-L\-E, V\-O\-C\-A\-B\-\_\-\-C\-M\-\_\-\-F\-O\-R\-C\-E\-\_\-\-I\-D\-L\-E, V\-O\-C\-A\-B\-\_\-\-H\-W\-\_\-\-F\-A\-U\-L\-T. The following interaction modes are tested\-: V\-O\-C\-A\-B\-\_\-\-I\-M\-\_\-\-S\-T\-I\-F\-F, V\-O\-C\-A\-B\-\_\-\-I\-M\-\_\-\-C\-O\-M\-P\-L\-I\-A\-N\-T. For some modes (V\-O\-C\-A\-B\-\_\-\-C\-M\-\_\-\-T\-O\-R\-Q\-U\-E, V\-O\-C\-A\-B\-\_\-\-I\-M\-\_\-\-C\-O\-M\-P\-L\-I\-A\-N\-T) the test asks to robot\-Interface if the joint capabilities, skipping the test if those modes are not implemented. The test intentionally generates an hardware fault to test the transition between V\-O\-C\-A\-B\-\_\-\-C\-M\-\_\-\-H\-W\-\_\-\-F\-A\-U\-L\-T to V\-O\-C\-A\-B\-\_\-\-C\-M\-\_\-\-I\-D\-L\-E. The fault is generated by zeroing the max current limit. Check of the amplifier internal status (i\-Amplifier-\/$>$get\-Amp\-Status) has to be implemented yet.

Example\-: test\-Runner -\/v -\/t Control\-Modes.\-dll -\/p \char`\"{}-\/-\/robot icub -\/-\/part head -\/-\/joints \char`\"{}\char`\"{}(0 1 2 3 4 5)\char`\"{}\char`\"{} -\/-\/zero 0\char`\"{}

Check the following functions\-: \begin{DoxyItemize}
\item I\-Control\-Mode2\-::get\-Control\-Mode()/set\-Control\-Mode() \item I\-Interaction\-Mode\-::get\-Interaction\-Mode()/set\-Interaction\-Mode()\end{DoxyItemize}
Accepts the following parameters\-: \begin{TabularC}{7}
\hline
\rowcolor{lightgray}\PBS\centering {\bf Parameter name }&\PBS\centering {\bf Type }&\PBS\centering {\bf Units }&\PBS\centering {\bf Default Value }&\PBS\centering {\bf Required }&\PBS\centering {\bf Description }&\PBS\centering {\bf Notes  }\\\cline{1-7}
\PBS\centering robot &\PBS\centering string &\PBS\centering -\/ &\PBS\centering -\/ &\PBS\centering Yes &\PBS\centering The name of the robot. &\PBS\centering e.\-g. icub \\\cline{1-7}
\PBS\centering part &\PBS\centering string &\PBS\centering -\/ &\PBS\centering -\/ &\PBS\centering Yes &\PBS\centering The name of trhe robot part. &\PBS\centering e.\-g. left\-\_\-arm \\\cline{1-7}
\end{TabularC}
$\vert$ joints $\vert$ vector of ints $\vert$ -\/ $\vert$ Yes $\vert$ List of joints to be tested. $\vert$ $\vert$ $\vert$ zero $\vert$ double $\vert$ deg $\vert$ -\/ $\vert$ Yes $\vert$ The home position for the tested joints. $\vert$ $\vert$ 

Definition at line 42 of file Control\-Modes.\-h.



The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
/home/pegua/src/test/icub-\/tests/src/control\-Modes/Control\-Modes.\-h\item 
/home/pegua/src/test/icub-\/tests/src/control\-Modes/Control\-Modes.\-cpp\end{DoxyCompactItemize}
